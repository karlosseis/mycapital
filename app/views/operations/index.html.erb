
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<link rel="stylesheet" 
href="http://cdn.datatables.net/1.10.2/css/jquery.dataTables.min.css"></style>
<script type="text/javascript" 
src="http://cdn.datatables.net/1.10.2/js/jquery.dataTables.min.js"></script>

<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/jszip-2.5.0/pdfmake-0.1.18/dt-1.10.13/b-1.2.4/b-colvis-1.2.4/b-flash-1.2.4/b-html5-1.2.4/b-print-1.2.4/cr-1.3.2/fc-3.2.2/fh-3.1.2/kt-2.2.0/r-2.1.0/rr-1.2.0/sc-1.4.2/se-1.2.0/datatables.min.css"/>
 
<script type="text/javascript" src="https://cdn.datatables.net/v/dt/jszip-2.5.0/pdfmake-0.1.18/dt-1.10.13/b-1.2.4/b-colvis-1.2.4/b-flash-1.2.4/b-html5-1.2.4/b-print-1.2.4/cr-1.3.2/fc-3.2.2/fh-3.1.2/kt-2.2.0/r-2.1.0/rr-1.2.0/sc-1.4.2/se-1.2.0/datatables.min.js"></script>

<script type="text/javascript" 
src="http://cdn.datatables.net/plug-ins/1.10.13/api/sum().js"></script>


<script>
$(document).ready(function(){
    $('#myTable').dataTable({
  "columnDefs": [
    { "orderable": false, "targets":5 },
    { "orderable": false, "targets":6 },
    { "orderable": false, "targets":7 },
    { "orderable": false, "targets":8 },
    { "orderable": false, "targets":9 },
    { "orderable": false, "targets":10 }
  ],
 "aaSorting": [[0,'desc']],
  searching: true,
  "language": {
                "url": "//cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/Spanish.json"
            }
} );
});
</script>

<h2 class = "page-header">
  <%= t(:'list_operations') %>
</h2>      


 


 <table id="myTable"  class="table  table-striped cell-border compact hover order-column">
  <thead>
    <tr>
      <th><%= t(:'simple_form.labels.operation.operation_date') %></th>  
      <th><%= t(:'simple_form.labels.operation.company') %></th>      
      <th><%= t(:'simple_form.labels.operation.operationtype') %></th>              
      <th><%= t(:'simple_form.labels.operation.amount') %></th>
      <th><%= t(:'simple_form.labels.operation.quantity') %></th>
     
      <th><%= t(:'simple_form.labels.operation.origin_price') %></th>
      <th><%= t(:'simple_form.labels.operation.currency') %></th>        

    
      <th><%= t(:'simple_form.labels.operation.gross_amount') %></th>
      <th><%= t(:'simple_form.labels.operation.withholding_tax') %></th>        
      <th><%= t(:'simple_form.labels.operation.destination_tax') %></th>
      <th><%= t(:'simple_form.labels.operation.broker') %></th>

      <th></th>  
      <th></th>       
    </tr>
  </thead>
  <tfoot>
    <tr>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
  </tfoot>
  <tbody>
    <% @operations.each do |operation| %>
      <tr>
        <td><span><%= operation.operation_date %></span><%= I18n.l(operation.operation_date) %></td>  
        <td><%= operation.company %></td>
        <td><%= operation.operationtype %></td>
               
        <td class="success" align="right">
          <% if operation.operationtype_id.to_s  == Mycapital::OP_DIVIDEND.to_s %>
              <%= operation.net_amount  %>
          <% else %>
              <%= operation.amount  %>
          <% end %>      
        </td>        
        
        <td align="right"><%= operation.quantity %></td>

        <td align="right"><%= operation.origin_price %></td>          
        <td><%= operation.currency %></td>          
        <td align="right"><%= operation.gross_amount %></td>
        <td align="right"><%= operation.withholding_tax %></td>
        <td align="right"><%= operation.destination_tax %></td>
        <td align="right"><%= operation.broker %></td>
        <td><%= link_to 'Edit', edit_operation_path(operation), :class => 'btn btn-sm btn-primary' %></td>
        <td><%= link_to 'Destroy', operation, method: :delete, data: { confirm: 'Are you sure?' }, :class => 'btn btn-sm btn-danger' %></td>

      </tr>
    <% end %>
  </tbody>

</table>

